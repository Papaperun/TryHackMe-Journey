## ðŸ§‘â€ðŸŽ„ Day 9 â€“ Advent of Cyber 2025 (TryHackMe)

### Topic

**How password-based encryption protects files (PDFs, ZIPs) â€” and how weak passwords break it.**

This room focused on understanding how encrypted files work, why weak passwords fail, and how attackers recover them using offline cracking techniques.

---

## ðŸŽ¯ Learning Objectives

* How password-based encryption protects PDFs and ZIP archives
* Why weak passwords make encrypted files vulnerable
* How attackers use **dictionary**, **brute-force**, and **mask** attacks
* Hands-on cracking of an encrypted file to reveal its contents
* Why strong, complex passwords matter

---

## ðŸ” Password-Based Encryption (High Level)

* Files like **ZIP** and **PDF** can be encrypted using a user-supplied password
* Encryption strength depends on:

  * Algorithm (e.g., AES)
  * Key derivation method
  * **Password entropy** (this is usually the weakest link)

If the password is weak, encryption becomes vulnerable to **offline attacks**.

---

## ðŸ§¨ Why Weak Passwords Fail

* Humans reuse predictable patterns
* Common examples still seen in the wild:

  * `123456`, `password`, `qwerty`
  * Router passwords left as defaults

Attackers leverage **OSINT**:

* Birthdates
* Pet names
* Car models
* Sports teams

These can be automated using Python scripts + custom wordlists.

---

## ðŸ“– Dictionary Attacks

A **dictionary attack** uses a predefined wordlist of likely passwords.

* Example wordlist: `rockyou.txt`
* Fast and effective when passwords are human-chosen

Used in this room to crack encrypted ZIP and PDF files.

---

## ðŸ” Brute-Force & Mask Attacks

* **Brute-force**: tries every possible combination
* **Mask attacks**: smarter brute-force using patterns (e.g., `Winter????`)

Tools that commonly perform these:

* **John the Ripper**
* **Hashcat**
* **Hydra** (more commonly for *online* attacks)

---

## ðŸ§‚ Salt & Pepper (Concept)

* **Salt**: random data added to a password before hashing (stored with the hash)
* **Pepper**: secret value added to the password (not stored)

Conceptually similar to:

```python
password = user_input
password = password + random_string
```

Purpose: make precomputed and dictionary attacks much harder.

---

## ðŸ•µï¸ Confirming File Type

Before choosing a cracking tool, confirm the file type:

* `file filename`
* Hex viewer

This helps select the correct extraction and cracking method.

### PDF Analysis Output (Example)

```
PDF version 1.7
Security Handler: Standard
V: 2
R: 3
Length: 128
Encrypted Metadata: True
FileID: 3792b9a3671ef54bbfef57c6fe61ce5d
U: c46529c06b0ee2bab7338e9448d37c32...
O: 95d0ad7c11b1e7b3804b18a082dda96b...
```

From this analysis, the file was confirmed as an encrypted **PDF**, guiding the next steps.

---

## ðŸ§¨ Cracking the Password

Using John the Ripper, the user password was recovered:

```
found user-password: 'naughtylist'
```

Using this password:

* Successfully accessed the encrypted PDF
* Revealed its contents

ðŸ‘‰ **This moment made the attack path click** â€” seeing the same password work in both the cracking output *and* the file itself.

> **Personal note:** Honestly, this was *fucking cool*. Watching the password work in John and then immediately unlock the encrypted PDF made everything snap into place. Not silly â€” this was the exact moment the concept stopped being abstract and became real.

---

## ðŸ§  John the Ripper â€“ Mental Model

This room clarified a major misunderstanding.

### John the Ripper is:

* An **offline password cracking tool**
* Stateful â€” it remembers cracked passwords

Cracked passwords are stored in:

```
~/.john/john.pot
```

---

## â— Key Misunderstanding (Now Fixed)

### âŒ What `--show` does NOT do

* Does NOT crack passwords
* Does NOT take a wordlist

### âœ… What `--show` actually does

> Reads previously cracked passwords and prints them cleanly

---

## âœ… Correct John Workflow

### Step 1: Crack

```bash
john --wordlist=/usr/share/wordlists/rockyou.txt ziphash.txt
```

### Step 2: Display Results

```bash
john --show ziphash.txt
```

Thatâ€™s it.

* No wordlist
* No extra flags

---

## ðŸ§  Big Takeaway

* Weak passwords defeat strong encryption
* Offline attacks are silent and fast
* Tools like **John the Ripper** are not "dark magic" â€” theyâ€™re practical utilities
* Understanding *tool behavior* is as important as knowing the command

---

## âœï¸ One-Line Summary (Future Me)

> Day 9 taught me how weak passwords undermine encrypted files, how dictionary attacks work in practice, and finally demystified John the Ripper â€” especially how `--show` actually works.

---

âœ… End of Notes
